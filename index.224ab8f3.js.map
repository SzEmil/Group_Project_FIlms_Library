{"mappings":"AAGO,MAAMA,EAAaC,MAAOC,EAAMC,KACrC,MAAMC,QAAiBC,MACrB,2GAA2GH,UAAaC,wBAI1H,aAFqBC,EAASE,MAEjB,EAIFC,EAAoBN,UAC/B,MAAMG,QAAiBC,MACrB,6FAIF,aAFqBD,EAASE,MAEjB,EAIFE,EAAeP,MAAMQ,IAChC,MAAML,QAAiBC,MACrB,sCAAsCI,6DAKxC,aAF2BL,EAASE,MAEjB,EC3BfI,EAAgBC,SAASC,cAAc,oBACvCC,EAAeF,SAASC,cAAc,aAC5CE,QAAQC,IAAIF,GAEL,MAAMG,EAAcC,IACzBJ,EAAaK,UAAUC,OAAO,aAC9B,MAAMC,EAAS,kLAI8DH,EAAQI,wEAE5CJ,EAAQK,4dAWKL,EAAQM,qFAEVN,EAAQO,oFAEXP,EAAQQ,qEACRR,EAAQS,yEACRT,EAAQU,+JAMjDV,EAAQW,yVAahBlB,EAAcmB,UAAYT,CAAM,EC7C5BU,EAAOnB,SAASC,cAAc,gBAC9BmB,EAAUpB,SAASC,cAAc,iBACvC,IACIoB,EAAU,EAIZ,MAAIC,EAAkBC,IACtBA,EAAWC,KAAIC,IACbJ,EAAUI,EAAMC,GAEhB,MACMC,EADcF,EAAMG,aACIC,MAAM,KAG9BC,EADaL,EAAMT,UACEe,KAAK,MAE1BC,EAAOhC,SAASiC,cAAc,OACpCD,EAAKd,UAAY,gDAAgDG,yEAA+EI,EAAMf,oEAAoEe,EAAMd,4CAA4CmB,OAAaH,EAAU,eAEnSP,EAAQc,YAAYF,EAAK,GACzB,EA4CFG,OAAKC,OAxCmBC,IACxBjB,EAAQF,UAAY,GAEpBtB,IACG0C,MAAKC,IACJpC,QAAQC,IAAImC,GACZ,MAAMC,EAAYD,EAAKE,QACvBtC,QAAQC,IAAIoC,GACZlB,EAAgBkB,EAAU,IAE3BE,OAAMC,IACLxC,QAAQwC,MAAMA,EAAM,GACpB,EA+BHxB,EAAEyB,iBAAiB,UA3BFtD,MAAM+C,IACxBA,EAAMQ,iBAEN,MACEC,UAAUC,YAAEA,IACV5B,EAEE6B,EAAaD,EAAYE,MAC/B9C,QAAQC,IAAI4C,SAEN3D,EAAW2D,EAjDF,GAkDZV,MAAKC,IACJnB,EAAQF,UAAY,GACpB,MAAMsB,EAAYD,EAAKE,QACvBtC,QAAQC,IAAIoC,GACZlB,EAAgBkB,EAAU,IAG3BE,OAAMC,IACLxC,QAAQwC,MAAMA,EAAM,GACpB,IA4BN3C,SAAS4C,iBAAiB,SAlBPP,IACjB,MAAMa,EAASb,EAAMa,OAAOC,QAAQ,uBACpC,IAAKd,EAAMa,OAAOC,QAAQ,uBACxB,OAGF,MAAMC,EAAOF,EAAOG,aAAa,WACjClD,QAAQC,IAAIgD,GAEZvD,EAAauD,GACVd,MAAKC,IACJpC,QAAQC,IAAImC,GACZlC,EAAYkC,EAAK,IAElBG,OAAMC,IACLxC,QAAQwC,MAAMA,EAAM,GACpB","sources":["src/js/fetch-video.js","src/js/more-info-modal.js","src/js/home-library.js"],"sourcesContent":["'use strict';\n\n// zapytanie o film zgodny z wartością przekazaną w input\nexport const fetchVideo = async (name, pageNumber) => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US&query=${name}&page=${pageNumber}&include_adult=true`\n  );\n  const videos = await response.json();\n\n  return videos;\n};\n\n// zapytanie o najpopularniejsze filmy w tym tygodniu\nexport const fetchVideoPopular = async () => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=5349b69c770fce41df09c49c43dbcd6b`\n  );\n  const videos = await response.json();\n\n  return videos;\n};\n\n// zapytanie o szczegółowe informacje dotyczące filmu\nexport const fetchDetails = async movieId => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US`\n  );\n\n  const videoDetails = await response.json();\n\n  return videoDetails;\n};\n","'use strict';\nimport { fetchVideo } from './fetch-video';\n\nconst moreInfoModal = document.querySelector('.more-info-modal');\nconst modalSection = document.querySelector('.backdrop');\nconsole.log(modalSection);\n\nexport const renderModal = example => {\n  modalSection.classList.remove('is-hidden');\n  const markup = `<button class=\"more-info-modal__close-btn\">\n    X\n  </button>\n  <div class=\"container-modal\">\n    <img class=\"more-info-modal__poster\" src=\"https://image.tmdb.org/t/p/w300${example.poster_path}\" />\n    <div>\n      <h1 class=\"more-info-modal__title\">${example.title}</h1>\n      <div class=\"more-info-modal__details\">\n      <ul>\n      <li class=\"more-info-modal__details--header\">Vote/Votes</li>\n      <li class=\"more-info-modal__details--header\">Popularity</li>\n      <li class=\"more-info-modal__details--header\">Original Title</li>\n      <li class=\"more-info-modal__details--header\">Genre</li>\n      </ul>\n\n      <ul>\n      <li class=\"more-info-modal__details--text\">\n      <span class=\"more-info-modal__details--average\">${example.vote_average}</span>\n      /\n      <span class=\"more-info-modal__details--count\">${example.vote_count}</span>\n      </li>\n      <li class=\"more-info-modal__details--text\">${example.popularity}</li>\n      <li class=\"more-info-modal__details--text\">${example.original_title}</li>\n      <li class=\"more-info-modal__details--text\">${example.genre_ids}</li>\n      </ul>\n      </div>\n      \n      <h3 class=\"more-info-modal__subtitle\">ABOUT</h3>\n      <p class=\"more-info-modal__text\">\n        ${example.overview}\n      </p>\n      <div class=\"more-info-modal__btn-box\">\n        <button class=\"more-info-modal__btn more-info-modal__btn--watched\">\n          ADD TO WATCHED\n        </button>\n        <button class=\"more-info-modal__btn more-info-modal__btn--queue\">\n          ADD TO QUEUE\n        </button>\n      </div>\n    </div>\n  </div>`;\n\n  moreInfoModal.innerHTML = markup;\n};\n","('use strict');\nimport { fetchVideo } from './fetch-video';\nimport { fetchVideoPopular } from './fetch-video';\nimport { fetchDetails } from './fetch-video';\nimport { renderModal } from './more-info-modal';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.home-gallery');\nlet pageNumber = 1;\nlet videoId = 0;\n// let boject = {};\n\n// funkcja do wyświetlania wyszukanych filmów\nconst renderVideoCard = videoArray => {\n  videoArray.map(video => {\n    videoId = video.id;\n\n    const releaseDate = video.release_date;\n    const movieYear = releaseDate.split('-');\n\n    const arrGenreId = video.genre_ids;\n    const genreId = arrGenreId.join(', ');\n\n    const card = document.createElement('div');\n    card.innerHTML = `<div class = \"home-gallery__card\" movieid = \"${videoId}\"><img class=\"home-gallery__img\" src=\"https://image.tmdb.org/t/p/w300${video.poster_path}\" alt =\"video poster\"><h3 class= \"home-gallery-title\">${video.title}</h3><p class = \"home-gallery-link\">${genreId} | ${movieYear[0]}</p></div>`;\n\n    gallery.appendChild(card);\n  });\n};\n\n// obsługa zapytania o najpopularniejsze filmy\nconst loadPopularMovies = event => {\n  gallery.innerHTML = ``;\n\n  fetchVideoPopular()\n    .then(data => {\n      console.log(data);\n      const dataArray = data.results;\n      console.log(dataArray);\n      renderVideoCard(dataArray);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n};\n\n// obsługa zapytania o film dopasowany do wartości wpisanej do input\nconst searchVideo = async event => {\n  event.preventDefault();\n\n  const {\n    elements: { searchQuery },\n  } = form;\n\n  const formSearch = searchQuery.value;\n  console.log(formSearch);\n\n  await fetchVideo(formSearch, pageNumber)\n    .then(data => {\n      gallery.innerHTML = ``;\n      const dataArray = data.results;\n      console.log(dataArray);\n      renderVideoCard(dataArray);\n      // boject = data;\n    })\n    .catch(error => {\n      console.error(error);\n    });\n};\n\n// tworzenie siatki popularnych filmów przy załadowaniu strony\nwindow.onload = loadPopularMovies;\n\n// tworzenie siatki filmów odpowiadających wartości input\nform.addEventListener('submit', searchVideo);\n\n// tworzenie modala ze szczegółami o filmie\nconst getDetails = event => {\n  const target = event.target.closest('.home-gallery__card');\n  if (!event.target.closest('.home-gallery__card')) {\n    return;\n  }\n\n  const test = target.getAttribute('movieid');\n  console.log(test);\n\n  fetchDetails(test)\n    .then(data => {\n      console.log(data);\n      renderModal(data);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n};\ndocument.addEventListener('click', getDetails);\n"],"names":["$2e9092449891d4c8$export$e4e38755600886fc","async","name","pageNumber","response","fetch","json","$2e9092449891d4c8$export$1e78b1f3bb66d27e","$2e9092449891d4c8$export$d9c15871c0684f59","movieId","$290d84990b4a5811$var$moreInfoModal","document","querySelector","$290d84990b4a5811$var$modalSection","console","log","$290d84990b4a5811$export$69bf191433722f78","example","classList","remove","markup","poster_path","title","vote_average","vote_count","popularity","original_title","genre_ids","overview","innerHTML","$caed632eb6ae278a$var$form","$caed632eb6ae278a$var$gallery","$caed632eb6ae278a$var$videoId","$caed632eb6ae278a$var$renderVideoCard","videoArray","map","video","id","movieYear","release_date","split","genreId","join","card","createElement","appendChild","window","onload","event","then","data","dataArray","results","catch","error","addEventListener","preventDefault","elements","searchQuery","formSearch","value","target","closest","test","getAttribute"],"version":3,"file":"index.224ab8f3.js.map"}