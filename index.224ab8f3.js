const e=async(e,o)=>{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US&query=${e}&page=${o}&include_adult=true`);return await n.json()},o=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=5349b69c770fce41df09c49c43dbcd6b");return await e.json()},n=async e=>{const o=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US`);return await o.json()},t=document.querySelector(".more-info-modal"),l=document.querySelector(".backdrop");console.log(l);const a=e=>{l.classList.remove("is-hidden");const o=`<button class="more-info-modal__close-btn">\n    X\n  </button>\n  <div class="container-modal">\n    <img class="more-info-modal__poster" src="https://image.tmdb.org/t/p/w300${e.poster_path}" />\n    <div>\n      <h1 class="more-info-modal__title">${e.title}</h1>\n      <div class="more-info-modal__details">\n      <ul>\n      <li class="more-info-modal__details--header">Vote/Votes</li>\n      <li class="more-info-modal__details--header">Popularity</li>\n      <li class="more-info-modal__details--header">Original Title</li>\n      <li class="more-info-modal__details--header">Genre</li>\n      </ul>\n\n      <ul>\n      <li class="more-info-modal__details--text">\n      <span class="more-info-modal__details--average">${e.vote_average}</span>\n      /\n      <span class="more-info-modal__details--count">${e.vote_count}</span>\n      </li>\n      <li class="more-info-modal__details--text">${e.popularity}</li>\n      <li class="more-info-modal__details--text">${e.original_title}</li>\n      <li class="more-info-modal__details--text">${e.genre_ids}</li>\n      </ul>\n      </div>\n      \n      <h3 class="more-info-modal__subtitle">ABOUT</h3>\n      <p class="more-info-modal__text">\n        ${e.overview}\n      </p>\n      <div class="more-info-modal__btn-box">\n        <button class="more-info-modal__btn more-info-modal__btn--watched">\n          ADD TO WATCHED\n        </button>\n        <button class="more-info-modal__btn more-info-modal__btn--queue">\n          ADD TO QUEUE\n        </button>\n      </div>\n    </div>\n  </div>`;t.innerHTML=o},s=document.querySelector("#search-form"),i=document.querySelector(".home-gallery");let r=0;const c=e=>{e.map((e=>{r=e.id;const o=e.release_date.split("-"),n=e.genre_ids.join(", "),t=document.createElement("div");t.innerHTML=`<div class = "home-gallery__card" movieid = "${r}"><img class="home-gallery__img" src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt ="video poster"><h3 class= "home-gallery-title">${e.title}</h3><p class = "home-gallery-link">${n} | ${o[0]}</p></div>`,i.appendChild(t)}))};window.onload=e=>{i.innerHTML="",o().then((e=>{console.log(e);const o=e.results;console.log(o),c(o)})).catch((e=>{console.error(e)}))},s.addEventListener("submit",(async o=>{o.preventDefault();const{elements:{searchQuery:n}}=s,t=n.value;console.log(t),await e(t,1).then((e=>{i.innerHTML="";const o=e.results;console.log(o),c(o)})).catch((e=>{console.error(e)}))}));document.addEventListener("click",(e=>{const o=e.target.closest(".home-gallery__card");if(!e.target.closest(".home-gallery__card"))return;const t=o.getAttribute("movieid");console.log(t),n(t).then((e=>{console.log(e),a(e)})).catch((e=>{console.error(e)}))}));
//# sourceMappingURL=index.224ab8f3.js.map
