var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return s[e]=o,n.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,s){t[e]=s},e.parcelRequired7c6=n);var o=n("3ZRvh"),r=(n("3ZRvh"),n("3ZRvh"),o=n("3ZRvh"),n("3wwqR"));const a=document.querySelector("#header-search-form"),l=document.querySelector(".home-gallery"),i=document.querySelectorAll(".pag-btns__btn"),d=document.querySelector(".pag-btns__arrow--next"),c=document.querySelector(".pag-btns__arrow--prev"),_=document.querySelectorAll(".pag-btns__dots");let g=1;console.log(i),console.log(typeof i);const h=e=>{(0,o.fetchGenres)().then((s=>{e.map((e=>{const t=e.release_date.split("-"),n=e.genre_ids,o=[];n.map((e=>{const t=s.genres.find((s=>s.id===e));o.push(t)}));const r=[];o.map((e=>{r.push(e.name)}));const a=r.join(", "),i=document.createElement("div");i.innerHTML=`<div class = "home-gallery__card" movieid="${e.id}"><img class="home-gallery__img" src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt ="video poster"><h3 class= "home-gallery-title">${e.title}</h3><p class = "home-gallery-link">${a} | ${t[0]}</p></div>`,l.appendChild(i)}))})).catch((e=>{console.error(e)}))},p=e=>{const s=Math.ceil(e/20);for(let e=0;e<=6;e++)i[e].classList.add("pag-btns__btn--is-hidden");if(d.classList.add("pag-btns__arrow--is-hidden"),c.classList.add("pag-btns__arrow--is-hidden"),_[0].classList.add("pag-btns__dots--is-hidden"),_[1].classList.add("pag-btns__dots--is-hidden"),d.disabled=!1,c.disabled=!1,0!==e){if(i.forEach((e=>{Number(e.textContent)!==g&&(e.style.backgroundColor="transparent",console.log("remove")),Number(e.textContent)===g&&(e.style.backgroundColor="orange",console.log("add"))})),1===s)i[0].classList.remove("pag-btns__btn--is-hidden"),i[0].disabled=!0;else if(2===s)i[0].classList.remove("pag-btns__btn--is-hidden"),i[1].classList.remove("pag-btns__btn--is-hidden"),d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden");else if(3===s){for(let e=0;e<=2;e++)i[e].classList.add("pag-btns__btn--is-hidden");d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden")}else if(4===s){for(let e=0;e<=3;e++)i[e].classList.add("pag-btns__btn--is-hidden");d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden")}else if(5===s){for(let e=0;e<=4;e++)i[e].classList.add("pag-btns__btn--is-hidden");d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden")}else if(6===s){for(let e=0;e<=5;e++)i[e].classList.add("pag-btns__btn--is-hidden");d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden")}else if(7===s){for(let e=0;e<=6;e++)i[e].classList.add("pag-btns__btn--is-hidden");d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden")}else if(s>7){_[0].classList.remove("pag-btns__dots--is-hidden"),_[1].classList.remove("pag-btns__dots--is-hidden"),d.classList.remove("pag-btns__arrow--is-hidden"),c.classList.remove("pag-btns__arrow--is-hidden");for(let e=0;e<=6;e++)i[e].classList.remove("pag-btns__btn--is-hidden");i[6].textContent=s}1===g&&1!==s?c.disabled=!0:g===s&&1!==s&&(d.disabled=!0)}};window.onload=e=>{l.innerHTML="",(0,o.fetchVideoPopular)().then((e=>{console.log(e);const s=e.results;h(s)})).catch((e=>{console.error(e)}))},a.addEventListener("submit",(async e=>{e.preventDefault(),g=1;const{elements:{searchQuery:s}}=a,t=s.value;await(0,o.fetchVideo)(t,g).then((e=>{console.log(e),l.innerHTML="";const s=e.results;console.log(s),h(s);const t=e.total_results;p(t)})).catch((e=>{l.innerHTML="",console.error(e)}))}));document.addEventListener("click",(e=>{const s=e.target.closest(".home-gallery__card");if(!e.target.closest(".home-gallery__card"))return;const t=s.getAttribute("movieid");(0,o.fetchDetails)(t).then((e=>{console.log(e),(0,r.renderModal)(e)})).catch((e=>{console.error(e)}))})),d.addEventListener("click",(async()=>{const{elements:{searchQuery:e}}=a,s=e.value;console.log(s),g++,await(0,o.fetchVideo)(s,g).then((e=>{l.innerHTML="";const s=e.results;console.log(s),h(s);const t=e.total_results;p(t),console.log(`Wczytana strona: ${g}`)})).catch((e=>{l.innerHTML="",console.error(e)}))})),c.addEventListener("click",(async()=>{const{elements:{searchQuery:e}}=a,s=e.value;console.log(s),g--,await(0,o.fetchVideo)(s,g).then((e=>{l.innerHTML="";const s=e.results;console.log(s),h(s);const t=e.total_results;p(t),console.log(`Wczytana strona: ${g}`)})).catch((e=>{l.innerHTML="",console.error(e)}))})),document.addEventListener("click",(async e=>{const s=e.target.closest(".pag-btns__btn");if(!e.target.closest(".pag-btns__btn"))return;g=Number(s.textContent),console.log(typeof g);const{elements:{searchQuery:t}}=a,n=t.value;console.log(n),await(0,o.fetchVideo)(n,g).then((e=>{l.innerHTML="";const s=e.results;console.log(s),h(s);const t=e.total_results;p(t),console.log(`Wczytana strona: ${g}`)})).catch((e=>{l.innerHTML="",console.error(e)}))}));
//# sourceMappingURL=index.0f77eedc.js.map
