!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){s[e]=n},n.parcelRequired7c6=r),r.register("l5bVx",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var o=r("bpxeT"),a=r("l5bVx"),i=r("2TvXO"),c=r("je9aX"),l=(r("je9aX"),r("je9aX"),c=r("je9aX"),r("8qMKg")),d=document.querySelector("#header-search-form"),u=document.querySelector(".home-gallery"),f=document.querySelectorAll(".pag-btns__btn"),_=document.querySelector(".pag-btns__arrow--next"),p=document.querySelector(".pag-btns__arrow--prev"),h=document.querySelectorAll(".pag-btns__dots"),g=1;console.log(f),console.log(void 0===f?"undefined":e(a)(f));var v,b=function(e){(0,c.fetchGenres)().then((function(n){e.map((function(e){var t=e.release_date.split("-"),s=e.genre_ids,r=[];s.map((function(e){var t=n.genres.find((function(n){return n.id===e}));r.push(t)}));var o=[];r.map((function(e){o.push(e.name)}));var a=o.join(", "),i=document.createElement("div");i.innerHTML='<div class = "home-gallery__card" movieid="'.concat(e.id,'"><img class="home-gallery__img" src="https://image.tmdb.org/t/p/w300').concat(e.poster_path,'" alt ="video poster"><h3 class= "home-gallery-title">').concat(e.title,'</h3><p class = "home-gallery-link">').concat(a," | ").concat(t[0],"</p></div>"),u.appendChild(i)}))})).catch((function(e){console.error(e)}))},m=function(e){for(var n=Math.ceil(e/20),t=0;t<=6;t++)f[t].classList.add("pag-btns__btn--is-hidden");if(_.classList.add("pag-btns__arrow--is-hidden"),p.classList.add("pag-btns__arrow--is-hidden"),h[0].classList.add("pag-btns__dots--is-hidden"),h[1].classList.add("pag-btns__dots--is-hidden"),_.disabled=!1,p.disabled=!1,0!==e){if(f.forEach((function(e){Number(e.textContent)!==g&&(e.style.backgroundColor="transparent",console.log("remove")),Number(e.textContent)===g&&(e.style.backgroundColor="orange",console.log("add"))})),1===n)f[0].classList.remove("pag-btns__btn--is-hidden"),f[0].disabled=!0;else if(2===n)f[0].classList.remove("pag-btns__btn--is-hidden"),f[1].classList.remove("pag-btns__btn--is-hidden"),_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden");else if(3===n){for(var s=0;s<=2;s++)f[s].classList.add("pag-btns__btn--is-hidden");_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(4===n){for(var r=0;r<=3;r++)f[r].classList.add("pag-btns__btn--is-hidden");_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(5===n){for(var o=0;o<=4;o++)f[o].classList.add("pag-btns__btn--is-hidden");_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(6===n){for(var a=0;a<=5;a++)f[a].classList.add("pag-btns__btn--is-hidden");_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(7===n){for(var i=0;i<=6;i++)f[i].classList.add("pag-btns__btn--is-hidden");_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(n>7){h[0].classList.remove("pag-btns__dots--is-hidden"),h[1].classList.remove("pag-btns__dots--is-hidden"),_.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden");for(var c=0;c<=6;c++)f[c].classList.remove("pag-btns__btn--is-hidden");f[6].textContent=n}1===g&&1!==n?p.disabled=!0:g===n&&1!==n&&(_.disabled=!0)}},L=(v=e(o)(e(i).mark((function n(t){var s,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g=1,s=d.elements.searchQuery,r=s.value,e.next=6,(0,c.fetchVideo)(r,g).then((function(e){console.log(e),u.innerHTML="";var n=e.results;console.log(n),b(n);var t=e.total_results;m(t)})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),n)}))),function(e){return v.apply(this,arguments)}),w=function(){var n=e(o)(e(i).mark((function n(){var t,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.elements.searchQuery,s=t.value,console.log(s),g++,e.next=6,(0,c.fetchVideo)(s,g).then((function(e){u.innerHTML="";var n=e.results;console.log(n),b(n);var t=e.total_results;m(t),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=e(o)(e(i).mark((function n(){var t,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.elements.searchQuery,s=t.value,console.log(s),g--,e.next=6,(0,c.fetchVideo)(s,g).then((function(e){u.innerHTML="";var n=e.results;console.log(n),b(n);var t=e.total_results;m(t),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=e(o)(e(i).mark((function n(t){var s,r,o;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t.target.closest(".pag-btns__btn"),t.target.closest(".pag-btns__btn")){n.next=3;break}return n.abrupt("return");case 3:return g=Number(s.textContent),console.log(void 0===g?"undefined":e(a)(g)),r=d.elements.searchQuery,o=r.value,console.log(o),n.next=10,(0,c.fetchVideo)(o,g).then((function(e){u.innerHTML="";var n=e.results;console.log(n),b(n);var t=e.total_results;m(t),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();window.onload=function(e){u.innerHTML="",(0,c.fetchVideoPopular)().then((function(e){console.log(e);var n=e.results;b(n)})).catch((function(e){console.error(e)}))},d.addEventListener("submit",L);document.addEventListener("click",(function(e){var n=e.target.closest(".home-gallery__card");if(e.target.closest(".home-gallery__card")){var t=n.getAttribute("movieid");(0,c.fetchDetails)(t).then((function(e){console.log(e),(0,l.renderModal)(e)})).catch((function(e){console.error(e)}))}})),_.addEventListener("click",w),p.addEventListener("click",y),document.addEventListener("click",x)}();
//# sourceMappingURL=index.3d31c7eb.js.map
