function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=o),o.register("Iwkks",(function(t,n){e(t.exports,"populateSection",(function(){return p}));var i=o("3wwqR"),a=o("3ZRvh");const r="active",s="hidden",l="filmoteka-watched",c="filmoteka-queue",d="filmoteka-watched",m="filmoteka-queue",_=document.querySelectorAll(".my-library-space__btn"),u=document.getElementById(l),f=document.querySelector(".grid_my_library__elements");function g(e){_.forEach((e=>e.classList.remove(r))),e.classList.add(r)}function p(e){f.classList.add(s);const t=setTimeout((()=>{f.innerHTML=null;const n=e?.getAttribute("id")??l,o=JSON.parse(function(e){let t;switch(e){case l:t=b(d);break;case c:t=b(m);break;default:throw new Error("Not implemented sectionName: "+e)}return t}(n));o?.length>0?o.forEach((e=>function(e){const{title:t,categories:n,year:o,score:r,imageSrc:s,id:l}=e,c=document.createElement("div"),d=`<div class="grid_my_library__label">\n  <p class="grid_my_library__label-text">Click for more detalis</p>\n</div>\n        <img src='${s}'\n             class='grid_my_library__element-img'\n             alt='${t}' />\n        <div class="grid_my_library__signature">\n        <span class='grid_my_library__element-title'>${t}</span><br/>\n        ${n?`<span class='grid_my_library__element-category'>${n}</span>`:""}\n        ${n?`<span class='grid_my_library__element-year'>${o}</span>`:""}\n        ${n?`<span class='grid_my_library__element-score'>${r}</span>`:""}</div>\n  `;c.setAttribute("title",t),c.classList.add("grid_my_library__element"),c.innerHTML=d,c.addEventListener("click",(e=>function(e){(0,a.fetchDetails)(e).then((e=>{(0,i.renderModal)(e)})).catch((e=>{console.error(e)}))}(l))),f.appendChild(c)}(e))):function(){const e="\n  <div class='grid_my_library__element-empty'>\n      <p class='grid_my_library__element-empty-txt'>\n        The Movie Dog<br/>\n        <strong>is waiting for you</strong><br/>\n        to add some movies<br/>\n        to the list\n      </p>\n        <div class='grid_my_library__element-empty-img'></div>\n    </div>\n  ";f.innerHTML=e}(),f.classList.remove(s),clearTimeout(t)}),300)}function b(e){return localStorage.getItem(e)}_.length>0&&(g(u),_?.forEach((e=>e.addEventListener("click",(e=>{e.target.classList.contains("active")||(g(e.target),p(e.target))})))),p())})),o.register("3wwqR",(function(t,n){e(t.exports,"renderModal",(function(){return l}));var i=o("Iwkks");const a=document.querySelector(".more-info-modal"),r=document.querySelector("[data-modal-video]"),s=document.querySelector("body"),l=e=>{r.classList.remove("is-hidden");const t=e.genres.map((e=>e.name)).join(", "),n=`<button class="more-info-modal__close-btn">\n    X\n  </button>\n  <div class="container-modal">\n    <img class="more-info-modal__poster" src="https://image.tmdb.org/t/p/w300${e.poster_path}"  />\n    <div class="more-info-modal__description">\n      <h1 class="more-info-modal__title">${e.title}</h1>\n      <div class="more-info-modal__details">\n      <ul>\n      <li class='more-info-modal__details--header'>Vote/Votes</li>\n      <li class='more-info-modal__details--header'>Popularity</li>\n      <li class='more-info-modal__details--header'>Original Title</li>\n      <li class='more-info-modal__details--header'>Genre</li>\n      </ul>\n\n      <ul>\n      <li class='more-info-modal__details--text'>\n      <span class='more-info-modal__details--average'>${e.vote_average}</span>\n      /\n      <span class='more-info-modal__details--count'>${e.vote_count}</span>\n      </li>\n\n      <li class="more-info-modal__details--text">${e.popularity}</li>\n      <li class="more-info-modal__details--text">${e.original_title}</li>\n      <li class="more-info-modal__details--text">${t}</li>\n      </ul>\n      </div>\n\n      <h3 class='more-info-modal__subtitle'>ABOUT</h3>\n      <p class='more-info-modal__text'>\n        ${e.overview}\n      </p>\n      <div class="more-info-modal__btn-box">\n      <button id='${c}' class='more-info-modal__btn'>\n      </button>\n      <button id='${d}' class='more-info-modal__btn'>\n      </button>\n    </div>\n\n    </div>\n  </div>`;var o;a.innerHTML=n,s.classList.add("no-scroll"),_(e.id),o=e,document.querySelectorAll(".more-info-modal__btn")?.forEach((e=>e.addEventListener("click",(t=>{const n=t.target.getAttribute("id");u(n,o.id)?function(e,t){const n=localStorage.getItem(e),i=JSON.parse(n).slice().filter((e=>e.id!==t));localStorage.setItem(e,JSON.stringify([...i])),_(t)}(n,o.id):function(e,t){const n="https://image.tmdb.org/t/p/w300",i={title:t.title,categories:t.genres?.length>0?t.genres.map((e=>e.name)).join(", "):null,year:t.release_date?t.release_date.slice(0,4):null,score:t.vote_average?t.vote_average.toFixed(1):null,imageSrc:t.poster_path?`${n}${t.poster_path}`:null,id:t.id},o=localStorage.getItem(e);o||localStorage.setItem(e,JSON.stringify([i]));const a=JSON.parse(o);localStorage.setItem(e,JSON.stringify([...a,i])),_(t.id)}(n,o);const a=document.querySelectorAll(".my-library-space__btn");if(a.length>0){const t="active";n===Array.from(a).find((e=>e.classList.contains(t))).getAttribute("id")&&(0,i.populateSection)(e)}})))),r.classList.remove("is-hidden")};r.addEventListener("click",(e=>{e.target.closest(".more-info-modal__btn-box")||(r.classList.add("is-hidden"),s.classList.remove("no-scroll"))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(r.classList.add("is-hidden"),r.classList.remove("backdrop"))}));const c="filmoteka-watched",d="filmoteka-queue",m="in-storage";function _(e){document.querySelectorAll(".more-info-modal__btn").forEach((t=>{const n=t.getAttribute("id"),i=u(n,e);i?t.classList.add(m):t.classList.remove(m),t.innerHTML=function(e,t){return e?t===c?"REMOVE FROM WATCHED":"REMOVE FROM QUEUE":t===c?"ADD TO WATCHED":"ADD TO QUEUE"}(i,n)}))}function u(e,t){if(!localStorage.getItem(e))return!1;return JSON.parse(localStorage.getItem(e)).some((e=>e.id===t))}})),o.register("3ZRvh",(function(t,n){e(t.exports,"fetchVideo",(function(){return i})),e(t.exports,"fetchVideoPopular",(function(){return o})),e(t.exports,"fetchDetails",(function(){return a})),e(t.exports,"fetchGenres",(function(){return r}));const i=async(e,t)=>{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US&query=${e}&page=${t}&include_adult=true`);return await n.json()},o=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=5349b69c770fce41df09c49c43dbcd6b");return await e.json()},a=async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US`);return await t.json()},r=async()=>{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US");return await e.json()}}));
//# sourceMappingURL=index-my-library.3b8536ba.js.map
