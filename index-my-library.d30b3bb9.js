function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i),i.register("Iwkks",(function(t,n){e(t.exports,"populateSection",(function(){return p}));var o=i("3wwqR"),a=i("3ZRvh");const r="active",s="hidden",l="filmoteka-watched",c="filmoteka-queue",d="filmoteka-watched",m="filmoteka-queue",u=document.querySelectorAll(".my-library-space__btn"),_=document.getElementById(l),f=document.querySelector(".grid_my_library__elements");function g(e){u.forEach((e=>e.classList.remove(r))),e.classList.add(r)}function p(e){f.classList.add(s);const t=setTimeout((()=>{f.innerHTML=null;const n=e?.getAttribute("id")??l,i=JSON.parse(function(e){let t;switch(e){case l:t=b(d);break;case c:t=b(m);break;default:throw new Error("Not implemented sectionName: "+e)}return t}(n));i?.length>0?i.forEach((e=>function(e){const{title:t,categories:n,year:i,score:r,imageSrc:s,id:l}=e,c=document.createElement("li"),d=document.createElement("button"),m=`\n        <img src='${s}'\n             class='grid_my_library__element-img'\n             alt='${t}' />\n        <span class='grid_my_library__element-title'>${t}</span><br/>\n        ${n?`<span class='grid_my_library__element-category'>${n}</span>`:""}\n        ${n?`<span class='grid_my_library__element-year'>${i}</span>`:""}\n        ${n?`<span class='grid_my_library__element-score'>${r}</span>`:""}\n  `;d.setAttribute("role","button"),d.setAttribute("title",t),d.classList.add("grid_my_library__element"),d.innerHTML=m,d.addEventListener("click",(e=>function(e){(0,a.fetchDetails)(e).then((e=>{(0,o.renderModal)(e)})).catch((e=>{console.error(e)}))}(l))),c.appendChild(d),f.appendChild(c)}(e))):function(){const e="\n  <li class='grid_my_library__element-empty'>\n      <p class='grid_my_library__element-empty-txt'>\n        The Movie Dog<br/>\n        <strong>is waiting for you</strong><br/>\n        to add some movies<br/>\n        to the list\n      </p>\n        <div class='grid_my_library__element-empty-img'></div>\n    </li>\n  ";f.innerHTML=e}(),f.classList.remove(s),clearTimeout(t)}),300)}function b(e){return localStorage.getItem(e)}u.length>0&&(g(_),u?.forEach((e=>e.addEventListener("click",(e=>{e.target.classList.contains("active")||(g(e.target),p(e.target))})))),p())})),i.register("3wwqR",(function(t,n){e(t.exports,"renderModal",(function(){return l}));var o=i("Iwkks");const a=document.querySelector(".more-info-modal"),r=document.querySelector("[data-modal-video]"),s=document.querySelector("body"),l=e=>{r.classList.remove("is-hidden"),r.classList.add("backdrop");const t=e.genres.map((e=>e.name)).join(", "),n=`<button class="more-info-modal__close-btn">\n    X\n  </button>\n  <div class="container-modal">\n    <img class="more-info-modal__poster" src="https://image.tmdb.org/t/p/w300${e.poster_path}"  />\n    <div class="more-info-modal__description">\n      <h1 class="more-info-modal__title">${e.title}</h1>\n      <div class="more-info-modal__details">\n      <ul>\n      <li class='more-info-modal__details--header'>Vote/Votes</li>\n      <li class='more-info-modal__details--header'>Popularity</li>\n      <li class='more-info-modal__details--header'>Original Title</li>\n      <li class='more-info-modal__details--header'>Genre</li>\n      </ul>\n\n      <ul>\n      <li class='more-info-modal__details--text'>\n      <span class='more-info-modal__details--average'>${e.vote_average}</span>\n      /\n      <span class='more-info-modal__details--count'>${e.vote_count}</span>\n      </li>\n\n      <li class="more-info-modal__details--text">${e.popularity}</li>\n      <li class="more-info-modal__details--text">${e.original_title}</li>\n      <li class="more-info-modal__details--text">${t}</li>\n      </ul>\n      </div>\n\n      <h3 class='more-info-modal__subtitle'>ABOUT</h3>\n      <p class='more-info-modal__text'>\n        ${e.overview}\n      </p>\n      <div class="more-info-modal__btn-box">\n      <button id='${c}' class='more-info-modal__btn'>\n      </button>\n      <button id='${d}' class='more-info-modal__btn'>\n      </button>\n    </div>\n\n    </div>\n  </div>`;var i;a.innerHTML=n,s.style.overflow="hidden",u(e.id),i=e,document.querySelectorAll(".more-info-modal__btn")?.forEach((e=>e.addEventListener("click",(t=>{const n=t.target.getAttribute("id");_(n,i.id)?function(e,t){const n=localStorage.getItem(e),o=JSON.parse(n).slice().filter((e=>e.id!==t));localStorage.setItem(e,JSON.stringify([...o])),u(t)}(n,i.id):function(e,t){const n="https://image.tmdb.org/t/p/w300",o={title:t.title,categories:t.genres?.length>0?t.genres.map((e=>e.name)).join(", "):null,year:t.release_date?t.release_date.slice(0,4):null,score:t.vote_average?t.vote_average.toFixed(1):null,imageSrc:t.poster_path?`${n}${t.poster_path}`:null,id:t.id},i=localStorage.getItem(e);i||localStorage.setItem(e,JSON.stringify([o]));const a=JSON.parse(i);localStorage.setItem(e,JSON.stringify([...a,o])),u(t.id)}(n,i);const a=document.querySelectorAll(".my-library-space__btn");if(a.length>0){const t="active";n===Array.from(a).find((e=>e.classList.contains(t))).getAttribute("id")&&(0,o.populateSection)(e)}})))),r.classList.remove("is-hidden")};r.addEventListener("click",(e=>{e.target.closest(".more-info-modal__btn-box")||(r.classList.add("is-hidden"),r.classList.remove("backdrop"),s.style.overflow="auto")})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(r.classList.add("is-hidden"),r.classList.remove("backdrop"))}));const c="filmoteka-watched",d="filmoteka-queue",m="in-storage";function u(e){document.querySelectorAll(".more-info-modal__btn").forEach((t=>{const n=t.getAttribute("id"),o=_(n,e);o?t.classList.add(m):t.classList.remove(m),t.innerHTML=function(e,t){return e?t===c?"REMOVE FROM WATCHED":"REMOVE FROM QUEUE":t===c?"ADD TO WATCHED":"ADD TO QUEUE"}(o,n)}))}function _(e,t){if(!localStorage.getItem(e))return!1;return JSON.parse(localStorage.getItem(e)).some((e=>e.id===t))}})),i.register("3ZRvh",(function(t,n){e(t.exports,"fetchVideo",(function(){return o})),e(t.exports,"fetchVideoPopular",(function(){return i})),e(t.exports,"fetchDetails",(function(){return a})),e(t.exports,"fetchGenres",(function(){return r}));const o=async(e,t)=>{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US&query=${e}&page=${t}&include_adult=true`);return await n.json()},i=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=5349b69c770fce41df09c49c43dbcd6b");return await e.json()},a=async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US`);return await t.json()},r=async()=>{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5349b69c770fce41df09c49c43dbcd6b&language=en-US");return await e.json()}}));
//# sourceMappingURL=index-my-library.d30b3bb9.js.map
