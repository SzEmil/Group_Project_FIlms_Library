!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},t.parcelRequired7c6=r),r.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var o=r("bpxeT"),a=r("l5bVx"),i=r("2TvXO"),c=r("je9aX"),l=(r("je9aX"),r("je9aX"),c=r("je9aX"),r("8qMKg")),d=document.querySelector("#header-search-form"),u=document.querySelector(".home-gallery"),_=document.querySelectorAll(".pag-btns__btn"),f=document.querySelector(".pag-btns__arrow--next"),p=document.querySelector(".pag-btns__arrow--prev"),h=document.querySelectorAll(".pag-btns__dots"),g=1;console.log(_),console.log(void 0===_?"undefined":e(a)(_));var v,b=function(e){(0,c.fetchGenres)().then((function(t){e.map((function(e){var n=e.release_date.split("-"),s=e.genre_ids,r=[];s.map((function(e){var n=t.genres.find((function(t){return t.id===e}));r.push(n)}));var o=[];r.map((function(e){o.push(e.name)}));var a=o.join(", "),i=document.createElement("div");i.classList.add("home-gallery__card"),i.setAttribute("movieid",e.id),i.innerHTML='<div class="home-gallery__label">\n        <p class="home-gallery__label-text">Click for more details</p>\n      </div><img class="home-gallery__img" src="https://image.tmdb.org/t/p/w300'.concat(e.poster_path,'" alt ="video poster"><div class="home-gallery__signature"><h3 class= "home-gallery__title">').concat(e.title,'</h3><p class = "home-gallery__details">').concat(a," | ").concat(n[0],"</p></div>"),u.appendChild(i)}))})).catch((function(e){console.error(e)}))},m=function(e){for(var t=Math.ceil(e/20),n=0;n<=6;n++)_[n].classList.add("pag-btns__btn--is-hidden");if(f.classList.add("pag-btns__arrow--is-hidden"),p.classList.add("pag-btns__arrow--is-hidden"),h[0].classList.add("pag-btns__dots--is-hidden"),h[1].classList.add("pag-btns__dots--is-hidden"),f.disabled=!1,p.disabled=!1,0!==e){if(_.forEach((function(e){Number(e.textContent)!==g&&(e.style.backgroundColor="transparent",console.log("remove")),Number(e.textContent)===g&&(e.style.backgroundColor="orange",console.log("add"))})),1===t)_[0].classList.remove("pag-btns__btn--is-hidden"),_[0].disabled=!0;else if(2===t)_[0].classList.remove("pag-btns__btn--is-hidden"),_[1].classList.remove("pag-btns__btn--is-hidden"),f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden");else if(3===t){for(var s=0;s<=2;s++)_[s].classList.add("pag-btns__btn--is-hidden");f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(4===t){for(var r=0;r<=3;r++)_[r].classList.add("pag-btns__btn--is-hidden");f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(5===t){for(var o=0;o<=4;o++)_[o].classList.add("pag-btns__btn--is-hidden");f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(6===t){for(var a=0;a<=5;a++)_[a].classList.add("pag-btns__btn--is-hidden");f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(7===t){for(var i=0;i<=6;i++)_[i].classList.add("pag-btns__btn--is-hidden");f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden")}else if(t>7){h[0].classList.remove("pag-btns__dots--is-hidden"),h[1].classList.remove("pag-btns__dots--is-hidden"),f.classList.remove("pag-btns__arrow--is-hidden"),p.classList.remove("pag-btns__arrow--is-hidden");for(var c=0;c<=6;c++)_[c].classList.remove("pag-btns__btn--is-hidden");_[6].textContent=t}1===g&&1!==t?p.disabled=!0:g===t&&1!==t&&(f.disabled=!0)}},L=(v=e(o)(e(i).mark((function t(n){var s,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g=1,s=d.elements.searchQuery,r=s.value,e.next=6,(0,c.fetchVideo)(r,g).then((function(e){console.log(e),u.innerHTML="";var t=e.results;console.log(t),b(t);var n=e.total_results;m(n)})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),t)}))),function(e){return v.apply(this,arguments)}),y=function(){var t=e(o)(e(i).mark((function t(){var n,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.elements.searchQuery,s=n.value,console.log(s),g++,e.next=6,(0,c.fetchVideo)(s,g).then((function(e){u.innerHTML="";var t=e.results;console.log(t),b(t);var n=e.total_results;m(n),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=e(o)(e(i).mark((function t(){var n,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.elements.searchQuery,s=n.value,console.log(s),g--,e.next=6,(0,c.fetchVideo)(s,g).then((function(e){u.innerHTML="";var t=e.results;console.log(t),b(t);var n=e.total_results;m(n),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 6:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=e(o)(e(i).mark((function t(n){var s,r,o;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.target.closest(".pag-btns__btn"),n.target.closest(".pag-btns__btn")){t.next=3;break}return t.abrupt("return");case 3:return g=Number(s.textContent),console.log(void 0===g?"undefined":e(a)(g)),r=d.elements.searchQuery,o=r.value,console.log(o),t.next=10,(0,c.fetchVideo)(o,g).then((function(e){u.innerHTML="";var t=e.results;console.log(t),b(t);var n=e.total_results;m(n),console.log("Wczytana strona: ".concat(g))})).catch((function(e){u.innerHTML="",console.error(e)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();window.onload=function(e){u.innerHTML="",(0,c.fetchVideoPopular)().then((function(e){console.log(e);var t=e.results;b(t)})).catch((function(e){console.error(e)}))},d.addEventListener("submit",L);document.addEventListener("click",(function(e){var t=e.target.closest(".home-gallery__card");if(e.target.closest(".home-gallery__card")){var n=t.getAttribute("movieid");(0,c.fetchDetails)(n).then((function(e){console.log(e),(0,l.renderModal)(e)})).catch((function(e){console.error(e)}))}})),f.addEventListener("click",y),p.addEventListener("click",w),document.addEventListener("click",x)}();
//# sourceMappingURL=index.3b265127.js.map
