var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in t){var r=t[e];delete t[e];var n={id:e,exports:{}};return o[e]=n,r.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,o){t[e]=o},e.parcelRequired7c6=r);var n=r("3ZRvh"),l=(r("3ZRvh"),r("3ZRvh"),n=r("3ZRvh"),r("3wwqR"));const s=document.querySelector("#header-search-form"),c=document.querySelector(".home-gallery");const a=e=>{(0,n.fetchGenres)().then((o=>{e.map((e=>{const t=e.release_date.split("-"),r=e.genre_ids,n=[];r.map((e=>{const t=o.genres.find((o=>o.id===e));n.push(t)}));const l=[];n.map((e=>{l.push(e.name)}));const s=l.join(", "),a=document.createElement("div");a.innerHTML=`<div class = "home-gallery__card" movieid="${e.id}"><img class="home-gallery__img" src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt ="video poster"><h3 class= "home-gallery-title">${e.title}</h3><p class = "home-gallery-link">${s} | ${t[0]}</p></div>`,c.appendChild(a)}))})).catch((e=>{console.error(e)}))};window.onload=e=>{c.innerHTML="",(0,n.fetchVideoPopular)().then((e=>{const o=e.results;a(o)})).catch((e=>{console.error(e)}))},s.addEventListener("submit",(async e=>{e.preventDefault();const{elements:{searchQuery:o}}=s,t=o.value;console.log(t),await(0,n.fetchVideo)(t,1).then((e=>{c.innerHTML="";const o=e.results;console.log(o),a(o)})).catch((e=>{console.error(e)}))}));document.addEventListener("click",(e=>{const o=e.target.closest(".home-gallery__card");if(!e.target.closest(".home-gallery__card"))return;const t=o.getAttribute("movieid");console.log(t),(0,n.fetchDetails)(t).then((e=>{console.log(e),(0,l.renderModal)(e)})).catch((e=>{console.error(e)}))}));
//# sourceMappingURL=index.8f98f3d8.js.map
